<!DOCTYPE html>
<html>
<head>
<title>Request Job</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../css/styles.css">

<style>
body { background:#f2f2f2; font-family:Poppins; }
header {
    background:var(--primary-color); color:white;
    padding:18px; text-align:center; font-size:22px; font-weight:600;
}
.container {
    background:white; width:92%; max-width:420px;
    margin:30px auto; padding:20px;
    border-radius:12px;
    box-shadow:0 4px 10px rgba(0,0,0,0.1);
}
textarea {
    width:100%; height:120px; margin-top:10px;
    border-radius:10px; border:1px solid #ccc;
    padding:10px;
}
.btn { width:100%; margin-top:15px; }
</style>
</head>

<body>

<header>Request Job</header>

<div class="container">
    <h3 style="color:var(--primary-color);">Send Job Request</h3>

    <p><b>Description (Optional)</b></p>
    <textarea id="desc" placeholder="Describe the work needed..."></textarea>

    <button class="btn" onclick="sendReq()">Send Request</button>
</div>

<script>
function sendReq() {
    const worker = localStorage.getItem("finder_request_target");
    const finder = localStorage.getItem("active_finder");

    const finderName = localStorage.getItem("finderName_" + finder);

    const description = document.getElementById("desc").value.trim();

    let list = JSON.parse(localStorage.getItem("jobRequests_" + worker) || "[]");

    list.push({
        finderMobile: finder,
        finderName: finderName,
        description: description,
        date: new Date().toLocaleString(),
        status: "pending",
        completed: false
    });

    localStorage.setItem("jobRequests_" + worker, JSON.stringify(list));

    alert("Job Request Sent Successfully!");

    window.location.href = "finder-dashboard.html";
}
</script>

</body>
</html>
