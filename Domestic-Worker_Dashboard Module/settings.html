<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Settings â€“ WorkConnect</title>

<style>
  body { 
    margin: 0; 
    font-family: 'Poppins', sans-serif; 
    background: #0a0e27; 
    color: #fff; 
    transition: background 0.3s, color 0.3s;
  }

  .header { 
    background: #121740; 
    padding: 18px 25px; 
    font-size: 22px; 
    font-weight: 600; 
    text-align: center; 
    box-shadow: 0 4px 15px rgba(0,0,0,0.4);
  }

  .container { 
    padding: 25px; 
  }

  .setting-card { 
    background: #1c2450; 
    padding: 18px; 
    margin-bottom: 14px; 
    border-radius: 14px; 
  }

  .title { 
    font-size: 16px; 
    font-weight: 600; 
    margin-bottom: 10px; 
    display: block;
  }

  select, input[type="checkbox"] { 
    margin-top: 8px; 
    cursor: pointer;
  }

  label { cursor: pointer; }

  .btn { 
    width: 100%; 
    max-width: 400px; 
    display: block; 
    margin: 15px auto; 
    padding: 14px; 
    border: none; 
    border-radius: 12px; 
    font-size: 16px; 
    color: #fff; 
    cursor: pointer; 
    transition: 0.3s; 
  }

  .back-btn { background: #4da3ff; }
  .back-btn:hover { background: #2274d4; }

  .logout-btn { background: #e04e4e; }
  .logout-btn:hover { background: #b93b3b; }

  .save-btn { background: #4da3ff; }
  .save-btn:hover { background: #2274d4; }

  /* LIGHT THEME OVERRIDES */
  body.light { background:#f4f6ff; color:#1a1a1a; }
  body.light .header { background:#dde3ff; color:#1a1a1a; }
  body.light .setting-card { background:#ffffff; color:#1a1a1a; }
  body.light select, body.light label { color:#1a1a1a; }
</style>

<script>
  // Navigate back to dashboard
  function goToDashboard() {
    window.location.href = "worker-dashboard.html";
  }

  // Save settings to localStorage
  function saveSettings() {
    const lang = document.getElementById("language").value;
    const darkMode = document.getElementById("darkMode").checked;
    const voice = document.getElementById("voiceGuidance").checked;

    localStorage.setItem("language", lang);
    localStorage.setItem("darkMode", darkMode);
    localStorage.setItem("voiceGuidance", voice);

    applyTheme(); // Apply immediately
    alert("Settings Saved!");
  }

  // Logout function
  function logout() {
    localStorage.removeItem("active_user");
    window.location.href = "login.html";
  }

  // Load settings from localStorage
  function loadSettings() {
    document.getElementById("language").value = localStorage.getItem("language") || "English";
    document.getElementById("darkMode").checked = localStorage.getItem("darkMode") === "true";
    document.getElementById("voiceGuidance").checked = localStorage.getItem("voiceGuidance") === "true";
    applyTheme();
  }

  // Apply theme dynamically
  function applyTheme() {
    const dark = document.getElementById("darkMode").checked;
    if(dark){
      document.body.classList.remove("light");
    } else {
      document.body.classList.add("light");
    }
  }

  // Live theme toggle
  document.addEventListener("DOMContentLoaded", () => {
    loadSettings();
    document.getElementById("darkMode").addEventListener("change", applyTheme);
  });
</script>
</head>

<body>
<div class="header">Settings</div>

<div class="container">
  <!-- Language Selection -->
  <div class="setting-card">
    <label class="title" for="language">Language</label>
    <select id="language">
      <option value="English">English</option>
      <option value="Hindi">Hindi</option>
      <option value="Tamil">Tamil</option>
      <option value="Telugu">Telugu</option>
      <option value="Kannada">Kannada</option>
      <option value="Marathi">Marathi</option>
      <option value="Bengali">Bengali</option>
      <option value="Gujarati">Gujarati</option>
    </select>
  </div>

  <!-- Theme Selection -->
  <div class="setting-card">
    <label>
      <input type="checkbox" id="darkMode"/> Dark Mode
    </label>
  </div>

  <!-- Voice Guidance -->
  <div class="setting-card">
    <label>
      <input type="checkbox" id="voiceGuidance"/> Enable Voice Guidance
    </label>
  </div>

  <button class="btn save-btn" onclick="saveSettings()">Save Settings</button>
  <button class="btn back-btn" onclick="goToDashboard()">Back to Dashboard</button>
  <button class="btn logout-btn" onclick="logout()">Logout</button>
</div>

</body>
</html>
